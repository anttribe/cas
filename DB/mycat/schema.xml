<?xml version="1.0"?>
<!DOCTYPE mycat:schema SYSTEM "schema.dtd">
<mycat:schema xmlns:mycat="http://org.opencloudb/">

	<schema name="WEBIM" checkSQLschema="false" sqlMaxLimit="100" dataNode="dn1">
	    
		<table name="t_webim_user" primaryKey="id" dataNode="dn1,dn2" rule="rule_id" />
		
		<table name="t_webim_message" primaryKey="id" dataNode="dn1,dn2" rule="rule_create_month">
		    <childTable name="t_webim_messagebody" primaryKey="id" joinKey="message_id" parentKey="id">
			</childTable>
		</table>
	</schema>
	
	<schema name="CAS" checkSQLschema="false" sqlMaxLimit="100">
	    <table name="cas_t_core_category" primaryKey="id" type="global" dataNode="dn3,dn4" />
		<table name="cas_t_core_website" primaryKey="id" dataNode="dn3,dn4" rule="rule_id" />
	</schema>
	
	<schema name="OPENESHOP" checkSQLschema="false" sqlMaxLimit="100">
	    <table name="oes_good_t_category_info" primaryKey="id" type="global" dataNode="dn5,dn6" />
	</schema>
	
	<dataNode name="dn1" dataHost="localhost1" database="webim" />
	<dataNode name="dn2" dataHost="localhost2" database="webim" />
	
	<dataNode name="dn3" dataHost="localhost1" database="cas" />
	<dataNode name="dn4" dataHost="localhost2" database="cas" />
	
	<dataNode name="dn5" dataHost="localhost1" database="openeshop" />
	<dataNode name="dn6" dataHost="localhost2" database="openeshop" />
	
	<dataHost name="localhost1" maxCon="100" minCon="10" balance="0" writeType="0" dbType="mysql" dbDriver="native" switchType="1"  slaveThreshold="100">
		<heartbeat>select user()</heartbeat>
		<writeHost host="hostM1" url="localhost:3306" user="root" password="123456">
		</writeHost>
	</dataHost>
	<dataHost name="localhost2" maxCon="100" minCon="10" balance="0" writeType="0" dbType="mysql" dbDriver="native" switchType="1"  slaveThreshold="100">
		<heartbeat>select user()</heartbeat>
		<writeHost host="hostM1" url="localhost:3307" user="root" password="123456">
		</writeHost>
	</dataHost>
</mycat:schema>
